Web Traffic Generator
=====================

## 1. Description of the software
This tool takes as input a list of web pages to visit by means of Selenium Web Browser (relying on Firefox).
It produces as output the HAR generated by each page.
Har is [HTTP Archive](http://www.softwareishard.com/blog/har-12-spec/), a JSON data structure containing 
information and performance statistics about the webpage download.

* For information about this Readme file and this tool please write to [martino.trevisan@polito.it](mailto:martino.trevisan@polito.it)

## 2. Dependencies
You must install Selenium python3 package:
```
sudo pip3 install selenium
```
If you don't have pip3 istalled, you can do it following 
[this](http://stackoverflow.com/questions/6587507/how-to-install-pip-with-python-3) link.

Then, you must install BrowserMob Proxy, available at [this](https://github.com/lightbody/browsermob-proxy/releases) link.
Please download and decopress it.
You must set the location of the BrowserMob Proxy executable in the enviroment variable BROWSERMOBPROXY_BIN;
for example if you decompress in the current folder, type:
```
export BROWSERMOBPROXY_BIN=./browsermob-proxy-2.1.0-beta-5/bin/browsermob-proxy
```
Finally, please install BrowserMob Proxy python3 package
```
sudo pip3 install browsermob-proxy
```

## 3. Usage
To run this tool, please execute this command line:
```
web_traffic_generator.py <page_file> <output_file>
```
Where:
* `page_file` is the input file, where every line is a URL of a web page to request
* `output_file` is the file where store the resulting HAR structures.

## 4. Output format
This tool creates an output file where it stores the output HAR of each requested URL.
For each input URL, the corresponding HAR is reported, one line for each HAR structure.
Some HAR could be missing, due to failed downloads (very slow pages, crashed browser ecc...)


